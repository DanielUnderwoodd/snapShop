import React, { Component } from "react";
import { ListGroup } from "react-bootstrap";
import { connect } from "react-redux";
import { remove_address } from "../../actions/customer/customerAuthAction";
class AddressFooterBar extends Component {
  removeAddress = (locationId) => {
    this.props.remove_address(locationId);
  };
  handleOnClick = (locationId) => {
    let currentAddress = this.props.address.find(
      (address) => address._id === locationId
    );

    this.props.showEditAddressBar(currentAddress);
  };

  render() {
    return (
      <ListGroup>
        <ListGroup.Item className="address">
          <svg
            width="24"
            height="32"
            viewBox="0 0 24 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M11.9995 0C5.8764 0 0.894974 4.98215 0.894974 11.1054C0.894974 16.9996 10.9703 30.7705 11.3993 31.3536L11.7997 31.8985C11.8465 31.9626 11.9211 32 11.9995 32C12.0792 32 12.1532 31.9626 12.2005 31.8985L12.6007 31.3536C13.0299 30.7705 23.105 16.9996 23.105 11.1054C23.105 4.98215 18.1228 0 11.9995 0ZM11.9995 7.12748C14.1934 7.12748 15.9775 8.91158 15.9775 11.1054C15.9775 13.2981 14.1934 15.0834 11.9995 15.0834C9.80687 15.0834 8.02157 13.2981 8.02157 11.1054C8.02157 8.91158 9.80679 7.12748 11.9995 7.12748Z"
              fill="#FF6A00"
            />
          </svg>
          <h3> Addressess</h3>
        </ListGroup.Item>
        <div className="addresses">
          {this.props.address.map((address, index) => (
            <ListGroup.Item key={index}>
              <div>
                <div>
                  <label style={{ width: "85%", textAlign: "right" }}>
                    {address.location}
                  </label>
                  <span
                    style={{ marginLeft: "18px" }}
                    onClick={() => this.handleOnClick(address._id)}
                    id={address._id}>
                    <svg
                      width="22"
                      height="26"
                      viewBox="0 0 22 26"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M17.1437 24.6803H1.80774C1.41702 24.6803 1.1 24.3059 1.1 23.8436V5.71923C1.1 5.25721 1.41702 4.88281 1.80774 4.88281H9.47562C9.86656 4.88281 10.1834 5.25747 10.1834 5.71923C10.1834 6.18099 9.86634 6.55565 9.47562 6.55565H2.5157V23.0072H16.436V14.7813C16.436 14.3193 16.753 13.9449 17.1437 13.9449C17.5347 13.9449 17.8515 14.3195 17.8515 14.7813V23.8436C17.8517 24.3059 17.5347 24.6803 17.1437 24.6803Z"
                        fill="black"
                      />
                      <path
                        d="M20.693 4.16885L18.487 1.56443C18.2109 1.23813 17.7628 1.23813 17.4867 1.56443L15.4931 3.92341L7.78712 13.0302C7.72332 13.1056 7.67162 13.1947 7.6362 13.2922L5.98708 17.8456C5.87136 18.1607 5.93274 18.526 6.1358 18.7658C6.27264 18.9275 6.45194 19.0112 6.63608 19.0112C6.73046 19.0112 6.82484 18.9888 6.9168 18.9444L10.7697 16.9954C10.8522 16.9536 10.9278 16.8922 10.9914 16.8171L18.6971 7.71031L20.6932 5.35419C20.9691 5.02477 20.9691 4.49515 20.693 4.16885ZM7.98292 16.5854L8.62708 14.8119L9.48354 15.8241L7.98292 16.5854ZM10.3235 15.2415L9.12032 13.8195L16.0615 5.61601L17.2649 7.03795L10.3235 15.2415ZM17.9324 6.24885L16.7292 4.82691L17.9868 3.34075L19.1899 4.76009L17.9324 6.24885Z"
                        fill="black"
                      />
                    </svg>
                  </span>
                  <span
                    onClick={() => this.removeAddress(address._id)}
                    id={address._id}>
                    <svg
                      width="20"
                      height="21"
                      viewBox="0 0 20 21"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M7.27151 17.0632V7.43862C7.27151 7.31003 7.22921 7.20716 7.14461 7.12358C7.06 7.04215 6.95091 7.00143 6.81732 7.00143H5.90894C5.77535 7.00143 5.66849 7.04215 5.58165 7.12358C5.49705 7.20502 5.45475 7.31003 5.45475 7.43862V17.0653C5.45475 17.1939 5.49705 17.2968 5.58165 17.3803C5.66626 17.4618 5.77535 17.5025 5.90894 17.5025H6.81732C6.95091 17.5025 7.05778 17.4618 7.14461 17.3803C7.22921 17.2968 7.27151 17.1918 7.27151 17.0632ZM10.9073 17.0632V7.43862C10.9073 7.31003 10.865 7.20716 10.7804 7.12358C10.6958 7.04215 10.5867 7.00143 10.4531 7.00143H9.5447C9.41111 7.00143 9.30424 7.04215 9.21741 7.12358C9.13281 7.20502 9.0905 7.31003 9.0905 7.43862V17.0653C9.0905 17.1939 9.13281 17.2968 9.21741 17.3803C9.30202 17.4618 9.41111 17.5025 9.5447 17.5025H10.4531C10.5867 17.5025 10.6935 17.4618 10.7804 17.3803C10.865 17.2968 10.9073 17.1918 10.9073 17.0632ZM14.5453 17.0632V7.43862C14.5453 7.31003 14.5029 7.20716 14.4183 7.12358C14.3337 7.04215 14.2246 7.00143 14.0911 7.00143H13.1827C13.0491 7.00143 12.9422 7.04215 12.8554 7.12358C12.7708 7.20502 12.7285 7.31003 12.7285 7.43862V17.0653C12.7285 17.1939 12.7708 17.2968 12.8554 17.3803C12.94 17.4618 13.0491 17.5025 13.1827 17.5025H14.0911C14.2246 17.5025 14.3315 17.4618 14.4183 17.3803C14.5029 17.2968 14.5453 17.1918 14.5453 17.0632ZM6.81732 3.49964H13.1805L12.4992 1.90091C12.4324 1.81947 12.3522 1.76804 12.2587 1.75089H7.75465C7.65891 1.77018 7.57876 1.81947 7.51419 1.90091L6.81732 3.49964ZM20 3.93683V4.8112C20 4.93979 19.9577 5.04266 19.8731 5.12624C19.7885 5.20767 19.6794 5.24839 19.5458 5.24839H18.181V18.2097C18.181 18.9662 17.9584 19.6199 17.5131 20.1728C17.0678 20.7235 16.5335 21 15.9078 21H4.08995C3.46432 21 2.92998 20.7343 2.48469 20.2006C2.03941 19.667 1.81677 19.0219 1.81677 18.2654V5.25054H0.454191C0.320606 5.25054 0.213737 5.20982 0.126906 5.12838C0.0423021 5.04694 0 4.94193 0 4.81335V3.93897C0 3.81039 0.0423021 3.70752 0.126906 3.62394C0.211511 3.5425 0.320606 3.50179 0.454191 3.50179H4.84248L5.83769 1.21941C5.98019 0.882947 6.23622 0.595775 6.60581 0.357894C6.97317 0.117869 7.34721 0 7.7257 0H12.2721C12.6506 0 13.0246 0.117869 13.3942 0.355751C13.7638 0.593632 14.0198 0.880804 14.1623 1.21727L15.1575 3.49964H19.5458C19.6794 3.49964 19.7863 3.54036 19.8731 3.6218C19.9577 3.70538 20 3.81039 20 3.93683Z"
                        fill="black"
                      />
                    </svg>
                  </span>
                </div>
              </div>
            </ListGroup.Item>
          ))}
        </div>
        <ListGroup.Item
          className="add-address"
          onClick={this.props.showAddressBar}>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path d="M19 13H13V19H11V13H5V11H11V5H13V11H19V13Z" fill="black" />
          </svg>
          Add Address
        </ListGroup.Item>
      </ListGroup>
    );
  }
}

const mapPropsToState = (state) => {
  const { customer } = state;

  return {
    address: customer.address,
  };
};

export default connect(mapPropsToState, {
  remove_address,
})(AddressFooterBar);
